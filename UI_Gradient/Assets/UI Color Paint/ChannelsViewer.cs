using System.Collections.Generic;
using UnityEngine;

public class ChannelsViewer : MonoBehaviour
{
    [SerializeField] RectTransform content;
    [SerializeField] SummationChannel summationChannelPrefab;
    [SerializeField] ChannelEditPanel editPanel;

    int channelIndex = 0;
    List<SummationChannel> summationChannels = new List<SummationChannel>();

    private void Init(List<SummationChannel.ChannelData> channelDatas)
    {
        for(int i = 0; i < channelDatas.Count; i++)
        {
            channelDatas[i].channelEditPanel = editPanel;
            SummationChannel summationChannel = Instantiate(summationChannelPrefab, content);
            summationChannel.SetData(channelDatas[i]);
            summationChannels.Add(summationChannel);
        }
    }


    private void Update()
    {
        if(Input.GetKeyDown(KeyCode.Space))
        {
            Init(new List<SummationChannel.ChannelData>()
                {
                    new SummationChannel.ChannelData()
                    {
                        channelIndex = channelIndex++,
                        colors = new List<Color32>()
                        {
                            Color.red,
                            Color.green,
                            Color.blue,
                            Color.yellow,
                            Color.yellow,
                            Color.yellow,
                            Color.yellow,
                            Color.yellow,
                            Color.yellow,
                            Color.yellow,
                            Color.yellow,
                            Color.yellow,
                            Color.yellow,
                            Color.yellow,
                            Color.yellow,
                            Color.yellow,
                            Color.yellow,
                            Color.yellow,
                            Color.yellow,
                            Color.yellow,
                            Color.yellow,
                            Color.yellow,
                            Color.yellow,
                            Color.yellow,
                            Color.yellow,
                            Color.yellow,
                            Color.yellow,
                            Color.yellow,
                            Color.yellow,
                            Color.yellow,
                            Color.yellow,
                            Color.yellow,
                            Color.yellow,
                            Color.cyan,
                            Color.magenta,
                            Color.black,
                            Color.yellow,
                            Color.yellow,
                            Color.yellow,
                            Color.yellow,
                            Color.yellow,
                            Color.yellow,
                            Color.yellow,
                            Color.yellow,
                            Color.yellow,
                            Color.yellow,
                            Color.yellow,
                            Color.yellow,
                            Color.yellow,
                            Color.yellow,
                            Color.yellow,
                            Color.yellow,
                            Color.yellow,
                            Color.yellow,
                            Color.cyan,
                            Color.magenta,
                            Color.black,
                            Color.yellow,
                            Color.yellow,
                            Color.yellow,
                            Color.yellow,
                            Color.yellow,
                            Color.yellow,
                            Color.yellow,
                            Color.yellow,
                            Color.yellow,
                            Color.yellow,
                            Color.yellow,
                            Color.yellow,
                            Color.yellow,
                            Color.yellow,
                            Color.yellow,
                            Color.yellow,
                            Color.yellow,
                            Color.yellow,
                            Color.cyan,
                            Color.magenta,
                            Color.black,
                            Color.yellow,
                            Color.yellow,
                            Color.yellow,
                            Color.yellow,
                            Color.yellow,
                            Color.yellow,
                            Color.yellow,
                            Color.yellow,
                            Color.yellow,
                            Color.yellow,
                            Color.yellow,
                            Color.yellow,
                            Color.yellow,
                            Color.yellow,
                            Color.yellow,
                            Color.yellow,
                            Color.yellow,
                            Color.yellow,
                            Color.cyan,
                            Color.magenta,
                            Color.black,
                            Color.yellow,
                            Color.yellow,
                            Color.yellow,
                            Color.yellow,
                            Color.yellow,
                            Color.yellow,
                            Color.yellow,
                            Color.yellow,
                            Color.yellow,
                            Color.yellow,
                            Color.yellow,
                            Color.yellow,
                            Color.yellow,
                            Color.yellow,
                            Color.yellow,
                            Color.yellow,
                            Color.yellow,
                            Color.yellow,
                            Color.cyan,
                            Color.magenta,
                            Color.black,
                            Color.yellow,
                            Color.yellow,
                            Color.yellow,
                            Color.yellow,
                            Color.yellow,
                            Color.yellow,
                            Color.yellow,
                            Color.yellow,
                            Color.yellow,
                            Color.yellow,
                            Color.yellow,
                            Color.yellow,
                            Color.yellow,
                            Color.yellow,
                            Color.yellow,
                            Color.yellow,
                            Color.yellow,
                            Color.yellow,
                            Color.cyan,
                            Color.magenta,
                            Color.black,
                            Color.yellow,
                            Color.yellow,
                            Color.yellow,
                            Color.yellow,
                            Color.yellow,
                            Color.yellow,
                            Color.yellow,
                            Color.yellow,
                            Color.yellow,
                            Color.yellow,
                            Color.yellow,
                            Color.yellow,
                            Color.yellow,
                            Color.yellow,
                            Color.yellow,
                            Color.yellow,
                            Color.yellow,
                            Color.yellow,
                            Color.cyan,
                            Color.magenta,
                            Color.black,
                            Color.white,
                            Color.gray
                        }
                    },
                    new SummationChannel.ChannelData()
                    {
                        channelIndex = channelIndex++,
                        colors = new List<Color32>()
                        {
                            Color.red,
                            Color.green,
                            Color.green,
                            Color.green,
                            Color.green,
                            Color.green,
                            Color.green,
                            Color.green,
                            Color.green,
                            Color.green,
                            Color.green,
                            Color.green,
                            Color.green,
                            Color.green,
                            Color.green,
                            Color.green,
                            Color.green,
                            Color.green,
                            Color.green,
                            Color.green,
                            Color.green,
                            Color.green,
                            Color.green,
                            Color.green,
                            Color.green,
                            Color.green,
                            Color.green,
                            Color.green,
                            Color.green,
                            Color.green,
                            Color.blue,
                            Color.yellow,
                            Color.cyan,
                            Color.magenta,
                            Color.black,
                            Color.white,
                            Color.gray
                        }
                    },
                    new SummationChannel.ChannelData()
                    {
                        channelIndex = channelIndex++,
                        colors = new List<Color32>()
                        {
                            Color.red,
                            Color.green,
                            Color.green,
                            Color.green,
                            Color.green,
                            Color.green,
                            Color.green,
                            Color.green,
                            Color.green,
                            Color.green,
                            Color.green,
                            Color.green,
                            Color.green,
                            Color.green,
                            Color.green,
                            Color.green,
                            Color.green,
                            Color.green,
                            Color.green,
                            Color.green,
                            Color.green,
                            Color.green,
                            Color.green,
                            Color.green,
                            Color.green,
                            Color.green,
                            Color.green,
                            Color.green,
                            Color.green,
                            Color.green,
                            Color.blue,
                            Color.yellow,
                            Color.cyan,
                            Color.magenta,
                            Color.black,
                            Color.white,
                            Color.gray
                        }
                    }
                });
        }
    }
}
